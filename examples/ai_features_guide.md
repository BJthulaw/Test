# AI功能使用指南

## 概述

法学研究科研绘图工具 v2.0 集成了阿里云AI服务，提供智能文本分析和内容增强功能。

## AI功能特性

### 1. 智能文本分析
AI会自动分析输入的文本内容，识别：
- 主要概念和节点
- 概念之间的层次关系
- 逻辑连接和流程
- 建议的图表类型

### 2. 内容增强
AI会优化和补充文本内容：
- 保持原有核心概念
- 添加逻辑连接词和关系
- 补充缺失的中间步骤
- 优化文本表达
- 添加箭头和连接符号

### 3. 图表类型建议
根据文本内容智能推荐最适合的图表类型：
- hierarchy: 层级关系图
- flowchart: 流程图
- network: 网络关系图
- decision_tree: 决策树
- framework: 框架图

## 使用步骤

### 步骤1: 启用AI功能
1. 启动程序后，在左侧控制面板找到"AI智能功能"区域
2. 勾选"启用AI分析"复选框
3. 确认AI服务状态显示为"✓ AI服务可用"

### 步骤2: 输入文本内容
在文本输入框中输入要分析的内容，例如：
```
宪法
基本法
行政法规
部门规章
地方性法规
```

### 步骤3: AI智能生成
1. 点击"AI智能生成"按钮
2. 系统会显示"AI正在分析文本..."
3. AI会自动分析文本结构并优化内容
4. 生成优化后的图表

### 步骤4: 内容增强（可选）
1. 点击"AI内容增强"按钮
2. AI会进一步优化和补充内容
3. 优化后的内容会自动更新到文本输入框
4. 重新生成图表查看效果

## 高级连接语法

### 支持的连接符号
- `->` 简单箭头
- `=>` 粗体箭头
- `-->` 虚线箭头
- `==>` 双箭头
- `[标签]` 连接标签

### 使用示例

**基本连接：**
```
概念A -> 概念B
概念B => 概念C
```

**带标签的连接：**
```
宪法 -> 基本法[制定依据]
基本法 => 行政法规[实施细则]
行政法规 --> 部门规章[具体实施]
```

**复杂关系：**
```
研究背景 --> 文献综述[理论基础]
文献综述 ==> 理论框架[核心概念]
理论框架 => 研究方法[实证设计]
研究方法 --> 数据分析[统计处理]
数据分析 ==> 结论建议[实践意义]
```

## AI分析结果示例

### 输入文本
```
宪法
基本法
行政法规
部门规章
```

### AI分析结果
```json
{
  "concepts": ["宪法", "基本法", "行政法规", "部门规章"],
  "hierarchy": [
    {"parent": "宪法", "child": "基本法"},
    {"parent": "基本法", "child": "行政法规"},
    {"parent": "行政法规", "child": "部门规章"}
  ],
  "connections": [
    {"from": "宪法", "to": "基本法", "type": "制定依据"},
    {"from": "基本法", "to": "行政法规", "type": "实施细则"},
    {"from": "行政法规", "to": "部门规章", "type": "具体实施"}
  ],
  "suggested_type": "层级结构图",
  "enhanced_text": "宪法是国家的根本大法，具有最高法律效力。基本法是根据宪法制定的，用于规范国家的基本制度和基本权利。行政法规是由国务院根据宪法和基本法制定的，用于具体实施法律和基本法的规定。部门规章是由各部委根据行政法规制定的，用于细化和落实相关法律法规的具体内容。"
}
```

## 注意事项

1. **网络连接**: AI功能需要稳定的网络连接
2. **API限制**: 阿里云API有调用频率限制
3. **内容质量**: AI分析结果仅供参考，建议人工审核
4. **隐私保护**: 文本内容会发送到阿里云服务器进行分析

## 故障排除

### AI服务不可用
- 检查网络连接
- 确认API密钥是否正确
- 查看控制台错误信息

### 分析结果不理想
- 尝试使用"AI内容增强"功能
- 手动调整文本格式
- 使用高级连接语法

### 程序响应缓慢
- AI分析需要时间，请耐心等待
- 检查网络连接速度
- 考虑关闭AI功能使用传统模式

## 最佳实践

1. **文本格式**: 使用清晰的层次结构
2. **概念命名**: 使用准确的概念名称
3. **关系表达**: 明确表达概念间的关系
4. **内容完整**: 提供足够的上下文信息
5. **迭代优化**: 多次使用AI功能进行优化 